{
    "data": {
        "type": "dynamic-fixtures",
        "attributes": {
            "operations": [
                {
                    "type": "transfer",
                    "name": "LocaleTransfer",
                    "key": "locale",
                    "arguments": { "id_locale": 66, "locale_name": "en_US" }
                },
                {
                    "type": "helper",
                    "name": "havePermissionByKey",
                    "key": "viewCompanySspAssetPermission",
                    "arguments": ["ViewCompanySspAssetPermissionPlugin"]
                },
                {
                    "type": "helper",
                    "name": "havePermissionByKey",
                    "key": "createSspAssetPermission",
                    "arguments": ["CreateSspAssetPermissionPlugin"]
                },
                {
                    "type": "helper",
                    "name": "havePermissionByKey",
                    "key": "udateSspAssetPermission",
                    "arguments": ["UpdateSspAssetPermissionPlugin"]
                },
                {
                    "type": "helper",
                    "name": "haveCompany",
                    "key": "company",
                    "arguments": [
                        {
                            "isActive": true,
                            "status": "approved"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyRoleWithPermissions",
                    "key": "companyRole",
                    "arguments": [
                        { "isDefault": true, "fkCompany": "#company.id_company" },
                        ["#viewCompanySspAssetPermission", "#createSspAssetPermission", "#udateSspAssetPermission"]
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyBusinessUnit",
                    "key": "businessUnit",
                    "arguments": [
                        {
                            "fkCompany": "#company.id_company"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCustomer",
                    "key": "customer",
                    "arguments": [
                        {
                            "locale": "#locale",
                            "password": "change123"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "confirmCustomer",
                    "key": "confirmedCustomer",
                    "arguments": ["#customer"]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyUser",
                    "key": "companyUser",
                    "arguments": [
                        {
                            "customer": "#customer",
                            "fkCustomer": "#customer.id_customer",
                            "fkCompany": "#company.id_company",
                            "fkCompanyBusinessUnit": "#businessUnit.id_company_business_unit"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "assignCompanyRoles",
                    "arguments": ["#companyUser", ["#companyRole"]]
                },
                {
                    "type": "helper",
                    "name": "haveAsset",
                    "key": "asset",
                    "arguments": [
                        {
                            "companyBusinessUnit": "#businessUnit",
                            "assignments": [
                                {
                                    "companyBusinessUnit": {
                                        "idCompanyBusinessUnit": "#businessUnit.id_company_business_unit"
                                    }
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCompany",
                    "key": "companyWithViewCompanySspAssetPermissionOne",
                    "arguments": [
                        {
                            "isActive": true,
                            "status": "approved"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyBusinessUnit",
                    "key": "businessUnitViewCompanySspAssetPermissionOne",
                    "arguments": [
                        {
                            "fkCompany": "#companyWithViewCompanySspAssetPermissionOne.id_company"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyBusinessUnit",
                    "key": "businessUnitWithViewCompanySspAssetPermissionSecond",
                    "arguments": [
                        {
                            "fkCompany": "#companyWithViewCompanySspAssetPermissionOne.id_company"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCustomer",
                    "key": "customerWithViewCompanyAssetPermission",
                    "arguments": [
                        {
                            "locale": "#locale",
                            "password": "change123"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "confirmCustomer",
                    "key": "confirmedCustomerWithViewCompanyAssetPermission",
                    "arguments": ["#customerWithViewCompanyAssetPermission"]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyUser",
                    "key": "companyUserWithViewCompanyAssetPermissionMain",
                    "arguments": [
                        {
                            "customer": "#customerWithViewCompanyAssetPermission",
                            "fkCustomer": "#customerWithViewCompanyAssetPermission.id_customer",
                            "fkCompany": "#companyWithViewCompanySspAssetPermissionOne.id_company",
                            "fkCompanyBusinessUnit": "#businessUnitViewCompanySspAssetPermissionOne.id_company_business_unit"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyUser",
                    "key": "companyUserWithViewCompanyAssetPermissionSecondary",
                    "arguments": [
                        {
                            "customer": "#customerWithViewCompanyAssetPermission",
                            "fkCustomer": "#customerWithViewCompanyAssetPermission.id_customer",
                            "fkCompany": "#companyWithViewCompanySspAssetPermissionOne.id_company",
                            "fkCompanyBusinessUnit": "#businessUnitWithViewCompanySspAssetPermissionSecond.id_company_business_unit"
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveCompanyRoleWithPermissions",
                    "key": "companyRoleWithViewCompanySspAssetPermission",
                    "arguments": [
                        { "isDefault": true, "fkCompany": "#companyWithViewCompanySspAssetPermissionOne.id_company" },
                        ["#viewCompanySspAssetPermission"]
                    ]
                },
                {
                    "type": "helper",
                    "name": "assignCompanyRoles",
                    "arguments": ["#companyUserWithViewCompanyAssetPermissionMain", ["#companyRoleWithViewCompanySspAssetPermission"]]
                },
                {
                    "type": "helper",
                    "name": "haveAsset",
                    "key": "assetWithViewCompanyAssetPermissionOne",
                    "arguments": [
                        {
                            "assignments": [
                                {
                                    "companyBusinessUnit": {
                                        "idCompanyBusinessUnit": "#businessUnitViewCompanySspAssetPermissionOne.id_company_business_unit"
                                    }
                                },
                                {
                                    "companyBusinessUnit": {
                                        "idCompanyBusinessUnit": "#businessUnitWithViewCompanySspAssetPermissionSecond.id_company_business_unit"
                                    }
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "helper",
                    "name": "haveAsset",
                    "key": "assetWithViewCompanyAssetPermissionSecond",
                    "arguments": [
                        {
                            "assignments": [
                                {
                                    "companyBusinessUnit": {
                                        "idCompanyBusinessUnit": "#businessUnitWithViewCompanySspAssetPermissionOne.id_company_business_unit"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    }
}
